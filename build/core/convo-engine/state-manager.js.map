{"version":3,"file":"state-manager.js","sourceRoot":"","sources":["../../../src/core/convo-engine/state-manager.ts"],"names":[],"mappings":"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"}