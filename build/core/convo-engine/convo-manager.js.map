{"version":3,"file":"convo-manager.js","sourceRoot":"","sources":["../../../src/core/convo-engine/convo-manager.ts"],"names":[],"mappings":"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"}